## Описание проекта

#### Контекст задачи:
 - у нас есть пользователи от которых мы получаем некоторые данные
 - мы получаем данные каждый день, таким образом каждая точка данных соответствует некоторой дате
 - в рамках этой задачи будем считать что все данные имеют тип float
 - в результате сбора данных мы имеем массивы вида [{"date": ..., "value": ...}, {"date": ..., "value": ...}, ...]
 - видов (например шаги, средняя частота пульса и тп) данных может быть много, в рамках этой задачи будем считать, что они однозначно различаются по строковому названию 
 - как данные попадают к нам и как они технически храняться - за рамками данной задачи
#### ТЗ выглядит следующим образом:
 - Реализовать HTTP веб-сервис. Сервис должен предоставлять HTTP API с помощью которого можно посчитать корреляцию по Пирсону между 2 векторами данных разных типов
 - При расчете корреляции требуется сопоставить потоки между собой с учетом дат, то есть мы "сравниваем" два показателя за одну и ту же дату, а не как попало
 - Полученные результаты должны сохраняться в базу данных.
 - Данные сохраненные в БД также должны быть впоследствии доступны в через API.
## Локальная установка и использование
 - $git clone https://github.com/Lopatk1n/Pearson
 - $cd Pearson
 - $docker-compose up -d --build (Разворачивается приложение и postgres)
 - $docker-compose exec web python manage.py migrate
 - Перейдя на http://localhost:8000/ Вы должны увидеть сообщение 200, Service available
 - Теперь необходимо создать пользователя и получить токен для доступа к методам приложения. Можно использовать Postman.
 - Пример: POST http://localhost:8000/auth/users/
 ```
 {
    "username": "first_user",
    "password": "Pearson12"
    }
 ```
 - Ответ 
 ```
{
     "email": "",
     "username": "first_user",
     "id":1
     }
 ```
 - Отправляем запрос на получение *токена* POST http://localhost:8088/auth/token/login/  в теле запроса передаем JSON:
 ```
 {
     "username": "first_user",
     "password": "Pearson12"
     }
 ```
 - Ответ 
 ```
     {
     "auth_token": "b704c9fc3655635646356ac2950269f352ea1139"
     }
 ```
 - Теперь во *все* наши запросы в Headers вставляем 'Authorization : Token b704c9fc3655635646356ac2950269f352ea1139'
 - Отправляем данные POST http://localhost:8000/calculate/ в теле запроса в виде JSON. Пример валидного запроса:
 -     {
            "user_id": 1,
            "data": {
                "x_data_type": "height",
                "y_data_type": "weight",
                "x": [
                    {
                        "date": "2015-10-10",
                        "value": 1000
                    },
                    {
                        "date": "2015-10-11",
                        "value": 20.02
                    },
                    {
                        "date": "2015-10-12",
                        "value": 33.02
                    },
                    {
                        "date": "2015-10-13",
                        "value": 21.06
                    },
                    {
                        "date": "2015-10-14",
                        "value": 21.06
                    },
                    {
                        "date": "2015-10-15",
                        "value": 21.06
                    }, {
                        "date": "2015-10-17",
                        "value": 21.06
                    }, {
                        "date": "2015-10-16",
                        "value": 21.06
                    }
                ],
                "y": [
                    {
                        "date": "2015-10-10",
                        "value": 100.06
                    },
                    {
                        "date": "2015-10-11",
                        "value": 50.3
                    },
                    {
                        "date": "2015-10-12",
                        "value": 10.06
                    },
                    {
                        "date": "2015-10-13",
                        "value": 5.06
                    },
                    {
                        "date": "2015-10-14",
                        "value": 100.06
                    },
                    {
                        "date": "2015-10-16",
                        "value": 50.3
                    },
                    {
                        "date": "2015-10-15",
                        "value": 10.06
                    },
                    {
                        "date": "2015-10-17",
                        "value": 5.06
                    }
                ]
            }
        }
 - Даты могут не совпадать по порядку, но должны быть **попарно совместимы**. По крайней мере все даты x должны быть в y.
  ---------
 - Получаем ответ 200 {"detail": "Success"}, либо текст ошибки и 400
 - Запрашиваем посчитанный коэффициент Пирсона и p value:
 > GET http://localhost:8000/correlation?user_id=1&x_data_type=weight&y_data_type=height
 - Если существует такая посчитанная комбинация параметров для юзера, то получаем ответ в формате:
 ```
        {
            "user_id": 1,
            "x_data_type": "height",
            "y_data_type": "weight",
            "correlation": {
                "value": 0.578,
                "p_value": 0.036
            }
```
#### Остановить контейнеры и удалить образ
 - $ docker-compose down -v
 - $ docker rmi id






